# B站批量拉黑工具

一款基于油猴（Tampermonkey）/脚本猫的B站批量拉黑脚本，支持通过用户名批量拉黑用户，支持多种输入格式，界面可拖拽，操作简单直观。

## 功能特点
- 支持三种输入格式：每行一个用户名、Python列表格式、JSON数组格式
- 界面可拖拽移动，不遮挡页面核心内容
- 实时显示处理进度和状态，详细日志输出
- 自动获取用户名对应的UID，无需手动查询
- 请求频率控制，避免触发接口限制
- 脚本猫菜单触发，默认不显示面板，不干扰正常浏览

## 安装要求
- 浏览器需安装油猴（Tampermonkey）或脚本猫扩展
  - 油猴：[Chrome商店](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo) / [Firefox商店](https://addons.mozilla.org/zh-CN/firefox/addon/tampermonkey/)
  - 脚本猫：[官网下载](https://scriptcat.org/)
- 需登录B站账号（拉黑操作需用户权限验证）

## 安装步骤
1. 安装上述浏览器扩展后，点击扩展图标
2. 选择「添加新脚本」或「创建新脚本」
3. 删除默认模板代码，复制本项目的完整脚本粘贴进去
4. 保存脚本（快捷键：Ctrl+S 或 Cmd+S）
5. 访问任意B站页面（https://*.bilibili.com/*），脚本即可生效

## 使用方法
1. 打开B站任意页面，点击脚本扩展图标
2. 在菜单中选择「📌 显示批量拉黑面板」，唤起操作面板
3. 在输入框中按支持的格式输入需要拉黑的用户名
   - 格式示例1（每行一个）：
     ```
     用户名1
     用户名2
     用户名3
     ```
   - 格式示例2（Python列表）：
     ```
     ["用户名1", "用户名2", "用户名3"]
     ```
   - 格式示例3（JSON数组）：
     ```
     ["用户名1", "用户名2", "用户名3"]
     ```
4. 点击「开始批量拉黑」按钮，脚本将自动处理
5. 处理完成后，可在日志区域查看详细结果
6. 如需隐藏面板，可通过脚本菜单选择「🙈 隐藏批量拉黑面板」

## 注意事项
1. 请确保已登录B站账号，否则无法执行拉黑操作
2. 脚本会精确匹配用户名，若用户名错误或不存在会提示失败
3. 为避免触发B站接口限制，每个用户处理间隔1秒
4. 仅支持拉黑普通用户，不支持拉黑UP主（接口限制）
5. 本脚本仅用于个人账号管理，请勿滥用，遵守B站社区规范
6. 若出现「CSRF令牌错误」，请刷新B站页面后重试

## 常见问题
### Q1：面板不显示怎么办？
A1：检查脚本是否已启用，确认当前页面是B站域名（https://*.bilibili.com/*），刷新页面后重新通过菜单唤起。

### Q2：提示「未找到精确匹配的用户」？
A2：请检查用户名是否正确，是否包含特殊字符，确保输入的用户名与B站用户主页的用户名完全一致。

### Q3：拉黑失败提示「未知错误」？
A3：可能是网络问题或B站接口临时限制，建议稍后重试，或减少单次拉黑的用户数量。

### Q4：如何取消拉黑？
A4：目前需手动到B站「个人中心-设置-隐私设置-黑名单管理」中取消，后续将新增批量取消拉黑功能。

## 版本更新日志
- v1.0.2（最新）：新增脚本猫菜单触发功能，默认隐藏面板，优化用户体验
- v1.0.1：修复用户名解析bug，优化日志输出，增加状态显示
- v1.0.0：初始版本，支持批量拉黑核心功能，可拖拽面板

## 免责声明
- 本脚本仅为个人学习和账号管理使用，请勿用于商业用途或恶意行为
- 使用本脚本产生的一切后果由使用者自行承担，与脚本作者无关
- 若B站接口更新导致脚本失效，将尽力维护但不保证永久可用
